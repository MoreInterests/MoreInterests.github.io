---
title: Linux-c  指针
top: false
cover: false
toc: true
mathjax: false
author: xing xiao
tags: C
categories: Linux
abbrlink: 34787
date: 2020-07-12 22:13:27
img:
coverImg:
password:
summary:
---
## 地址和变量

- 在计算机内存中，每一个字节单元，都有一个编号，称为地址



## 指针

### 1.定义

- 在C语言中，内存单元的地址称为指针，专门用来存放地址的变量，称为指针变量在不影响理解的情况中，有时对地址、指针和指针变量不区分，通称指针。
- 指针指向的内存区域中的数据称为指针的目标
- 如果它指向的区域是程序中的一个变量的内存空间，则这个变量称为指针的目标变量。简称为指针的目标。

### 2.指针变量的说明

  一般形式如下：

<存储类型><数据类型>*<指针变量名>；*

例如，

```c
char *  pName；
```



- 指针的存储类型是指针变量本身的存储类型。
- 指针说明时指定的数据类型不是指针变量本身的数据类型，而是指针目标的数据类型。简称为指针的数据类型。

### 3.引入指针

引入指针要注意程序中的px、*px和&px三种表示方法的不同意义。设px为一个指针，则：

- px-指针变量，它的内容是地址量
- *px一指针所指向的对象，它的内容是数据 int
- &px-指针变量占用的存储区域的地址，是个常量

### 4.指针赋值运算



- 指针的赋值运算指的是通过赋值运算符向指针变量送一个地址值

- 向一个指针变量赋值时，送的值必须是地址常量或指针变量，不能是普通的整数（除了赋零以外）

  #### 指针赋值运算常见的有以下几种形式：

把一个普通变量的地址赋给一个具有相同数据类型的指针

```c
double x=15，*px；

px=&x;
```



把一个已有地址值的指针变量赋给具有相同数据类型的另一个指针变量例如：

```c
float a，* px，* py；

px=&a；

py=px；
```



把一个数组的地址赋给具有相同数据类型的指针。例如：

```c
int a[20]，*pa；pa=a；/等价pa=&a[0]
```

### 4.指针运算

- 指针运算是以指针变量所存放的地址量作为运算量而进行的运算
- 指针运算的实质就是地址的计算
- 指针运算的种类是有限的，它只能进行赋值运算、算术运算和关系运算

![](https://cdn.jsdelivr.net/gh/MoreInterests/CDN/P0712.png)

### 5.指针与数组

- 在C语言中，数组的指针是指数组在内存中的起始地址，数组元素的地址是指数组元素在内存中的起始地址

- 一维数组的数组名为一维数组的指针（起始地址）例如

  ```c
  double ×[8]；
  ```

  

  因此，x为x数组的起始地址

  

- 设指针变量px的地址值等于数组指针x（即指针变量px指向数组的首元数），则：

  ```c
  x[i]、 * （px+i）、*（x+i）和 px[i] 
  ```

  具有完全相同的功能：访问数组第i+1个数组元素。

  

#### p[ i ] <=> *(p + i)



### 6.指针与二维数组

- 多维数组就是具有两个或两个以上下标的数组
- 在C语言中，二维数组的元素连续存储，按行优先存

#### 行指针（数组指针）

- 存储行地址的指针变量，叫做行指针变量。形式如下：·
  - <存储类型><数据类型>（ * <指针变量名>）[表达式]；
    ·例如，int a [ 2 ] [ 3 ]；int（*p）[ 3 ]；
- 方括号中的常量表达式表示指针加1，移动几个数据。
- 当用行指针操作二维数组时，表达式一般写成1行的元素个数，即列数。



### 7.字符指针与字符串

- C语言通过使用字符数组来处理字符串
- 通常，我们把char数据类型的指针变量称为字符指针变量。字符指针变量与字符数组有着密切关系，它也被用来处理拿符串。



### 8.指针数组

所谓指针数组是指由若干个具有相同存储类型和数据类型的指针变量构成的集合

指针数组的一般说明形式：

- <存储类型><数据类型>*<指针数组名>[<大小>]；
- 指针数组名表示该指针数组的起始地址

### 9.多级指针

- 多级指针和指针数组
- 指针数组也可以用另外一个指针来处理。例如：有一个一维字符指针数组ps[5]，char*ps[5]={"Beijing city"，
  "London city"}；

### 10.void指针

- void指针是一种不确定数据类型的指针变量，它可以通过强制类型转换让该变量指向任何数据类型的变量一般形式为：

  void*<指针变量名称>；

- 对于void指针，在没有强制类型转换之前，不能进行任何指针的算术运算



### 11.const修饰指针

- 常量化指针目标表达式
  一般说明形式如下：

  const<数据类型>*<指针变量名称>[=<指针运算表达式>]；

- 常量化指针目标是限制通过指针改变其目标的数值，但<指针变量>存储的地址值可以修改



- 常量化指针变量
  一般说明形式如下：

  <数据类型>*const<指针变量名称>[=<指针运算表达式>];



- 常量化指针变量及其目标表达式
  一般说明形式如下：

- const<数据类型> * const<指针变量名>=<指针运算表达式>；

  常量化指针变量及其目标表达式，使得既不可以修改<指针变量>的地址，也不可以通过*<指针变量名称>修改指针所指向变量的值